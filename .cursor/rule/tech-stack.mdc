---
description: 这个项目必须遵循的技术栈和架构规范
globs: ["**/*.ts", "**/*.tsx", "**/*.js", "**/*.jsx", "package.json"]
---
# 摄影地图网站 - 技术栈规范

请严格遵守以下技术栈和架构要求：

## 1. 核心语言
- 主要使用 **TypeScript**，所有文件和组件必须有明确的类型定义 。

## 2. 前端
- **框架**: 必须使用 **React** 和函数组件与 Hooks。
- **地图库**: 使用 **Mapbox GL JS** 或 **Leaflet.js** 实现世界地图和地点红点标记功能。
- **样式**: 可以使用 TailwindCSS 或 CSS Modules 进行页面美化。
- **HTTP 请求**: 使用 Axios 或 Fetch API 与后端通信。

## 3. 后端
- **运行环境**: **Node.js**。
- **框架**: **Express.js**，用于构建 RESTful API。
- **认证与授权**: 使用 **JWT (JSON Web Tokens)** 区分管理员和游客身份。所有需要权限的接口（如图片上传、评论删除）都必须验证 JWT。

## 4. 数据库
- **数据库**: **MongoDB**。
- **ODM库**: 使用 Mongoose 来定义数据模型和操作数据库。

## 5. 功能实现要点
- **地图与图片关联**: 图片在 MongoDB 中应包含 `location` 字段（存储经纬度）和 `imageUrl` 字段。
- **管理员功能**: 实现图片上传接口，上传时需绑定地理位置和描述。
- **游客功能**: 实现评论接口，评论需关联到具体的图片 ID。