# OnTheWay 个人摄影集网站 - 产品需求文档（PRD）

**版本**：1.0  
**日期**：2025-02-22  
**文档类型**：产品需求文档

---

## 一、产品概述

### 1.1 产品定位
**OnTheWay** 个人摄影集网站，以世界地图为入口展示按拍摄地点组织的摄影作品，支持管理员上传与管理、游客浏览与留言，整体风格简约科技感。

### 1.2 目标用户
- **管理员**：本人，负责内容生产与维护。
- **游客**：访客，浏览相册与互动。

---

## 二、用户角色与权限

| 能力 | 管理员 | 游客 |
|------|--------|------|
| 浏览相册/图片 | ✓ | ✓ |
| 在地图上查看拍摄地点并跳转图片 | ✓ | ✓ |
| 留言 | — | ✓ |
| 上传照片 | ✓ | — |
| 编辑/填写照片描述（内容、地点等） | ✓ | — |
| 删除/管理照片与留言 | ✓ | — |
| 管理后台登录与账号安全 | ✓ | — |

---

## 三、核心功能需求

### 3.1 首页：世界地图

- **地图展示**
  - 首页即世界地图，支持全球视角与缩放。
  - 支持鼠标滚轮缩放（放大/缩小）。
  - 支持拖拽平移地图。
  - 地图风格需与「简约科技感」一致（如深色底、简洁图例、低饱和度等）。

- **地点标记**
  - 有对应图片的拍摄地点在地图上显示为**红点**标记。
  - 同一地点多张图片时，可合并为一个红点；点击后**直接进入该地点的某张图片**（不先进入列表页），具体交互见 3.1.3。
  - 红点位置由照片的经纬度/地点信息决定。

- **交互与跳转**
  - 点击红点：**直接进入该地点对应的某张图片详情页**（例如该地点的第一张或默认选中的一张），展示高清大图（见 3.3）。
  - 若该地点有多张图片，在**图片详情页内**提供**左箭头 / 右箭头**（或支持左滑、右滑），用于在同一地点的不同图片之间切换浏览，无需返回地图或进入列表页。

### 3.2 图片与相册

- **图片信息**
  - 每张图片需包含：拍摄地点（经纬度或可解析为坐标的地点名称）、标题、描述（管理员填写）。
  - 支持按地点、时间等维度组织为相册或列表。

- **图片展示**
  - 列表/缩略图：可适当压缩或缩略图以保障加载性能。
  - 详情页：展示高清原图，保证画质（见 3.3）。当该地点有多张图片时，详情页提供左右箭头（或左滑/右滑）在同一地点的多张图片之间切换，无需离开当前页面。

### 3.3 高清图片规格与性能

- **规格**
  - 单张图片约 **10MB–20MB**，视为高清原图。
  - 需支持常见高清格式（如 JPEG、HEIC/转 JPEG、PNG 等，具体格式以技术方案为准）。

- **性能与体验**
  - 列表/地图上使用缩略图或中等尺寸图，控制单页请求量与体积。
  - 详情页按需加载原图，可结合懒加载、渐进式加载或分级分辨率（如先中清再高清）。
  - 考虑 CDN、压缩与缓存策略，在保证画质前提下减少等待时间。
  - 大图加载时应有加载状态（如占位图、进度或骨架屏），避免空白与卡顿。

### 3.4 留言

- **游客**进入网站时需获得一个**昵称**：可自行输入昵称，或使用系统随机生成；若选择随机生成且不满意，可多次点击重新随机，直至满意为止。留言时以此昵称身份发表。
  - 留言可关联到某张图片或某个相册/地点，具体粒度在设计中确定。
- 管理员可查看、隐藏/展示、删除留言。
- 留言展示需符合简约科技感，避免花哨样式。

### 3.5 管理后台（管理员）

- **认证**
  - 仅管理员可登录，采用安全登录方式（如密码、可选双因素），不对外开放注册。

- **照片管理**
  - 上传照片（支持单张或批量）。
  - 为每张照片填写/编辑：标题、描述、拍摄地点（经纬度或地点名称，用于地图红点）。
  - 删除、下架、排序等基础管理能力。

- **留言管理**
  - 查看、删除、可选「隐藏/显示」留言。

- **后台风格**
  - 与前台一致，保持简约科技感。

---

## 四、非功能需求

### 4.1 视觉与交互风格

- **简约科技感**
  - 布局简洁、留白合理，无多余装饰。
  - 配色偏向深色或中性背景，辅以少量高亮色（如红点、关键按钮）。
  - 字体清晰易读，可选现代无衬线字体。
  - 动效克制（如地图缩放、页面过渡），不干扰浏览。

### 4.2 兼容与体验

- 支持主流浏览器（Chrome、Safari、Edge、Firefox）及常见分辨率。
- 地图在桌面端以鼠标操作为主；若需支持触屏，需支持触摸缩放与平移。
- 大图加载与地图交互需兼顾中低网速，通过缩略图与懒加载保证可访问性。

### 4.3 安全与隐私

- 管理后台与登录接口需防暴力破解与常见 Web 攻击（如 CSRF、XSS）。
- 上传与存储需做类型与大小校验，避免恶意文件。
- 游客昵称用于留言展示，需在隐私说明或站内文案中注明用途与保留期限（如有持久化）。

### 4.4 数据与扩展

- 照片元数据（地点、标题、描述）需持久化存储，并与红点、详情页一致。
- 为后续扩展预留空间（如多管理员、标签、时间线视图等），不在本期实现也可在 PRD 中简要说明。

---

## 五、页面与信息架构（概要）

| 页面/模块 | 说明 | 主要用户 |
|-----------|------|----------|
| 首页（世界地图） | 地图 + 红点，点击直接进入该地点某张图片详情 | 管理员、游客 |
| 图片列表/相册 | 按地点或时间等维度的列表（可选） | 管理员、游客 |
| 图片详情 | 高清大图 + 描述 + 留言区；同地点多图时支持左右箭头切换 | 管理员、游客 |
| 留言 | 在详情或相册下发表/查看留言 | 游客发表，管理员管理 |
| 管理后台 - 登录 | 管理员认证 | 管理员 |
| 管理后台 - 照片管理 | 上传、编辑描述与地点、删除等 | 管理员 |
| 管理后台 - 留言管理 | 查看、删除、隐藏/显示 | 管理员 |

---

## 六、验收标准（摘要）

- 角色与权限：管理员可上传、编辑描述与地点、管理留言；游客仅可浏览与留言。
- 首页为可缩放的世界地图，有图的地点显示红点，点击红点直接进入该地点某张图片详情；若该地点有多张图片，详情页内可通过左右箭头（或左滑/右滑）切换浏览。
- 详情页展示 10–20MB 级高清图，并具备加载策略与基础性能优化。
- 整站视觉与交互符合「简约科技感」要求。
- 管理后台安全可用，照片与留言管理功能完整。

---

## 七、附录与待定项

- **地图服务**：选用何种地图服务（如 Mapbox、Leaflet + OpenStreetMap 等）由技术方案确定，需支持经纬度打点与缩放。
- **存储与带宽**：高清图存储与 CDN 成本需在技术方案中评估。
- **留言身份**：游客昵称（自填或系统随机、可多次重随机）已在 3.4 节确定；是否需验证码等防滥用措施可在详细设计阶段确定。
